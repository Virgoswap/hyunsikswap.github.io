(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{302:function(t,e,o){var content=o(655);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("3e0c88b5",content,!0,{sourceMap:!1})},654:function(t,e,o){"use strict";var n=o(302);o.n(n).a},655:function(t,e,o){(e=o(55)(!1)).push([t.i,".cow[data-v-64b36929]{width:8rem}.avatar[data-v-64b36929]{font-size:5rem}.name[data-v-64b36929]{font-size:1.2rem}.desc[data-v-64b36929]{color:#666}.info[data-v-64b36929]{background-color:#eee;padding:1rem}.write-form[data-v-64b36929]{max-width:30rem}.connect[data-v-64b36929]{background-color:#e9ecef;padding:1rem;margin-bottom:1rem}.address[data-v-64b36929]{overflow:hidden;text-overflow:ellipsis}.balance[data-v-64b36929]{cursor:pointer}.toast-body[data-v-64b36929],.tx-hash[data-v-64b36929]{overflow:hidden;text-overflow:ellipsis}.tx-hash[data-v-64b36929]{margin-bottom:.5rem;margin-top:0}.tx-status[data-v-64b36929]{text-transform:capitalize}.amount[data-v-64b36929]{margin-bottom:2rem}.amount .calc[data-v-64b36929]{font-size:.95rem;color:#555}",""]),t.exports=e},665:function(t,e,o){"use strict";o.r(e);o(35);var n=o(15),c=(o(36),o(37),o(23),o(103)),r=o(260),l=(o(219),o(221)),d=o(54),v={asyncData:function(t){t.params;return{stakeAddress:"",txid:"",show:!0,submitDisabled:!1,titleStatus:"",txStatus:"null",stakeWalletBalance:"0",stakingBalance:"0",rewards:"0",isBalanceLoaded:!1,stakeAmount:"",unstakeAmount:"",startTime:"",finishTime:"",txHash:"",claimDisabled:!1,exitDisabled:!1,initReward:"",stakeAllowance:Object(l.BigNumber)(0),btnApproving:!1,stakingTotal:"--",allowed:!1,lockAmount:"--",cardTotal:"--",balance:new l.BigNumber(0),isLocked:!1,canRedeem:!1,unlockTime:"--",days:7,tokenPair:["--","--"]}},computed:{token:function(){return d.default.lockToken}},methods:{toBigNumber:function(t){return t?Object(l.BigNumber)(t):Object(l.BigNumber)(0)},validationAmount:function(t){return t&&parseFloat(t)>0},etherscanAddress:function(t){return c.a.etherscanAddr(t)},etherscanTx:function(t){return c.a.etherscanTx(t)},cowLoaded:function(){return!!this.cowContract},onApprove:function(){var t=this;this.lockToken&&(this.btnApproving=!0,this.lockToken.approveMax(this.$store.state.connectedAccount,this.lockPool.address,(function(e,o){o&&(t.txHash=o,t.txStatus="pending",t.$bvToast.show("tx-toast"),t.btnApproving=!1)})).then((function(e){t.txStatus="mined",t.update(),t.$bvToast.hide("tx-toast"),t.btnApproving=!1,t.allowed=!0})).catch((function(e){t.$bvModal.hide("stake-modal"),t.btnApproving=!1})))},onStake:function(){var t=this;this.lockPool&&(this.txStatus="pending",this.lockPool.lock(this.$store.state.connectedAccount,(function(e,o){o&&(t.txHash=o,t.txStatus="pending",t.$bvToast.show("tx-toast"))})).then((function(e,b){t.txStatus="mined",t.update(),t.$bvToast.hide("tx-toast"),t.isLocked=!0})).catch((function(e){t.txStatus="error"})))},onUnstake:function(){var t=this;this.lockPool&&(this.txStatus="pending",this.lockPool.redeem(this.$store.state.connectedAccount,(function(e,o){o&&(t.txHash=o,t.txStatus="pending",t.$bvToast.show("tx-toast"))})).then((function(e){t.txStatus="mined",t.update(),t.$bvToast.hide("tx-toast")})).catch((function(e){t.$bvModal.hide("unstake-modal"),t.txStatus="error"})))},fillStakeAmount:function(t){this.stakeAmount=t.toString()},update:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cowHero.totalSupply();case 2:return t.cardTotal=e.sent,e.next=5,t.lockPool.lockPeriod();case 5:return t.days=e.sent,e.next=8,t.lockPool.lockAmount();case 8:t.lockAmount=e.sent;case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,c,l,v,k,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$onConnect();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return o=t.$store.state.connectedAccount,t.lockPool=new r.LockPool(d.default.lockPool,d.default.lockToken),t.lockToken=new r.e(d.default.lockToken.address,d.default.lockToken.symbol,d.default.lockToken.decimals),t.cowHero=new r.CowHero(d.default.cowHero),e.next=13,t.cowHero.totalSupply();case 13:return n=e.sent,e.next=16,t.lockPool.lockAmount();case 16:return c=t.lockAmount=e.sent,e.next=19,t.lockPool.lockPeriod();case 19:return t.days=e.sent,l=new r.h,e.next=23,l.estimateBNBAndMILK();case 23:if(t.tokenPair=e.sent,!o){e.next=46;break}return e.next=27,t.lockToken.balanceOf(o);case 27:return v=e.sent,e.next=30,t.lockToken.allowance(o,t.lockPool.address);case 30:return e.sent.gte(c)&&(t.allowed=!0),e.next=34,t.lockPool.canRedeem(o);case 34:return k=e.sent,t.lockAmount=c,t.cardTotal=n,t.balance=v,e.next=40,t.lockPool.isLocked(o);case 40:return t.isLocked=e.sent,e.next=43,t.lockPool.unlockTime(o);case 43:m=e.sent,t.canRedeem=k,t.unlockTime=new Date(1e3*m);case 46:setInterval(t.update,3e3);case 47:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},k=(o(654),o(41)),component=Object(k.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"row"},[o("div",{staticClass:"offset-md-4 col-md-4 col-sm-12"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:"https://nft.stakecow.com/cow/0",alt:""}}),t._v(" "),o("div",{staticClass:"card-body text-center"},[o("div",{staticClass:"card-text text-center"},[t._v("COW NFT")]),t._v(" "),o("div",[o("b",[t._v(t._s(t.cardTotal)+" / 1000 ")]),t._v(" Minted ")])])])])]),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[t.isLocked?o("div",[o("div",[t._v("You can redeem at: "+t._s(t.unlockTime))]),t._v(" "),o("b-button",{attrs:{block:"",variant:"success",disabled:!t.canRedeem},on:{click:t.onUnstake}},[t._v("\n              Redeem\n            ")])],1):o("div",[o("div",{staticClass:"amount"},[o("div",{staticClass:"card-text"},[t._v(" Lock "),o("b",[t._v(t._s(t.lockAmount))]),t._v(" "+t._s(t.token.symbol)+" for "),o("b",[t._v(t._s(t.days))]),t._v(" days to mint 1 COW ")]),t._v(" "),o("div",{staticClass:"calc"},[o("b",[t._v(t._s(t.lockAmount))]),t._v(" "+t._s(t.token.symbol)+"  = "),o("b",[t._v(t._s(t.tokenPair[0]))]),t._v(" MILK + "),o("b",[t._v(t._s(t.tokenPair[1]))]),t._v(" BNB")])]),t._v(" "),o("div",[t._v("Your Balance: "),o("b",[t._v(t._s(t.balance))]),t._v(" "+t._s(t.token.symbol))]),t._v(" "),t.balance.gt(t.lockAmount)?o("div",[t.allowed?o("b-button",{attrs:{block:"",variant:"primary"},on:{click:t.onStake}},[t._v("\n                Lock "+t._s(t.lockAmount)+" "+t._s(t.token.symbol)+"\n              ")]):o("b-button",{attrs:{block:"",variant:"danger"},on:{click:t.onApprove}},[t._v("\n                Approve\n              ")])],1):o("div",[o("a",{staticClass:"btn btn-block btn-primary",attrs:{href:"https://swap.stakecow.com/#/add/BNB/0x8E9f5173e16Ff93F81579d73A7f9723324d6B6aF",target:"_blank"}},[t._v("Get "+t._s(t.token.symbol))])])])])]),t._v(" "),o("div",[o("router-link",{attrs:{to:"/guard"}},[t._v("\n          "+t._s(t.$t("nft.about"))+"\n        ")])],1)])]),t._v(" "),o("b-toast",{attrs:{id:"tx-toast",solid:"","no-auto-hide":""},scopedSlots:t._u([{key:"toast-title",fn:function(){return[o("div",{staticClass:"tx-status"},["pending"==t.txStatus?o("b-spinner",{attrs:{small:"",label:"Loading..."}}):t._e(),t._v(" "),"mined"==t.txStatus?o("b-icon",{attrs:{icon:"check-circle"}}):t._e(),t._v(" "),"error"==t.txStatus?o("b-icon",{attrs:{icon:"x-circle",variant:"danger"}}):t._e(),t._v("\n        "+t._s(t.txStatus)+" \n      ")],1)]},proxy:!0}])},[t._v(" "),o("div",{staticClass:"tx-hash"},[o("div",[o("a",{attrs:{href:t.etherscanTx(t.txHash),target:"_blank"}},[t._v(t._s(t.txHash))])])])])],1)}),[],!1,null,"64b36929",null);e.default=component.exports}}]);